<%= form_for([@category, @album], html: {class: "ui form", multipart: true}) do |f| %>

    <% if @album.errors.any? %>
        <!-- <script>
          $(".ui.form").addClass("error");
          $(".field_with_errors").parent().addClass("error");
        </script> -->
        <br/>
        <div id="error_explanation">
          <div class="ui error message">
            <div class="header">
              The form contains
              <%= pluralize(@album.errors.count, "error") %>.
            </div>

            <ul class="list">
              <% @album.errors.full_messages.each do |msg| %>
                  <li><%= msg %></li>
              <% end %>
            </ul>
          </div>
        </div>
    <% end %>
    <br/>
    <div class="field">
      <!-- <%= f.label :category_name, "类名" %> -->
      <%= f.text_area :description, class: "category-input", placeholder: "文本", autocomplete: "off" %>
    </div>





    <div class="field">
      <div class="ui positive right labeled icon button cover-image-button">
        上传图片
        <i class="upload icon"></i>
      </div>
      <%= f.file_field :picture, class: 'display-none submit-cover-image', accept: 'image/jpeg,image/gif,image/png' %>
    </div>

    <p class="cover-image-name"></p>
    <p class="cover-image-size"></p>

    <% if @album.picture? %>
        <%= image_tag(@album.picture.url, class: "ui image fixheight imgshow tempimgshow") %>
    <% else %>
        <%= image_tag("sample_image.png", class: "ui image fixheight imgshow tempimgshow") %>
    <% end %>
    <br/>

    <% if @album.errors.any? %>
        <script>
          $(".ui.form").addClass("error");
          $(".field_with_errors").parent().addClass("error");
        </script>
    <% end %>

    <%= f.submit "完成", class: "ui submit fluid button" %>
<% end %>
