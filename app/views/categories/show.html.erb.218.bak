<%= render 'header' %>
<div class="ui center aligned container category-block-border">
  <!-- <h4 class="ui grey header">新建文章并且发表在><%= @category.category_name %></h4> -->
  <h1 class="ui grey header">
    <%= image_tag(@category.category_image, class: "ui circular image", alt: @category.category_name) %>
    <div class="content">
      <%= @category.category_name %>
      <div class="sub header"><%= @category.category_brief %></div>
    </div>
  </h1>
  <br/>
  <%= link_to '新建文章', new_category_post_path(@category), data: { no_turbolink: true } %>&nbsp;&nbsp;/&nbsp;&nbsp;
  <%= link_to '添加分类', new_category_path %>&nbsp;&nbsp;/&nbsp;&nbsp;
  <%= link_to '编辑分类', edit_category_path(@category) %>&nbsp;&nbsp;/&nbsp;&nbsp;
  <%= link_to '全部分类', categories_path %>&nbsp;&nbsp;/&nbsp;&nbsp;
  <%= link_to '删除分类', category_path(@category), method: :delete, data: {confirm:'确定要删除吗？'} %>
</div>

<div class="ui container category-block">
  <% if @category.id == 1 %>
    <%= render partial: "posts/post1", collection: @category.posts.reverse %>
    <!-- 3.4.5 渲染集合
    渲染集合时使用局部视图特别方便。通过 :collection 选项把集合传给局部视图时，会把集合中每个元素
    套入局部视图渲染:

    传入复数形式的集合时，在局部视图中可以使用和局部视图同名的变量引用集合中的成员。在上面的代码中，
    局部视图是 _product，在其中可以使用 product 引用渲染的实例。
    find me on:
    http://guides.ruby-china.org/layouts_and_rendering.html -->
  <% elsif @category.id == 5 %>

<!-- 固定宽高布局 -->
  <!-- <div class="four column doubling ui grid">
    <%= render partial: "posts/post5", collection: @category.posts.reverse %>
  </div> -->
<!-- 固定宽高布局 -->

<!-- 瀑布流布局 -->
  <div id="masonry" class="container-fluid">
    <% @category.posts.reverse.each do |post| %>
    <div class="box">
      <%= link_to "/categories/#{@category.id}/posts/#{post.id}" do %>
      <%= image_tag(post.post_image, alt: post.post_title) %>
      <% end %>
    </div>
    <% end %>
  </div>
<!-- 瀑布流布局 -->

  <% end %>
</div>
<%= render 'footer' %>
